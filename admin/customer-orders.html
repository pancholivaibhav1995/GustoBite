<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GustoBite - Slider Menu</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f9f9f9;
  }
  h1 {
    font-weight: 700;
  }
  /* Tabs */
  .nav-pills .nav-link {
    cursor: pointer;
    font-weight: 600;
    color: #444;
  }
  .nav-pills .nav-link.active {
    background-color: #28a745;
    color: white;
  }
  /* Slider container */
  .slider-container {
    overflow-x: auto;
    white-space: nowrap;
    padding: 15px 0;
  }
  /* Menu item cards */
  .menu-card {
    display: inline-block;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgb(0 0 0 / 0.1);
    padding: 15px;
    margin-right: 15px;
    width: 220px;
    vertical-align: top;
    text-align: center;
  }
  .menu-card h5 {
    font-weight: 700;
    margin-bottom: 10px;
    font-size: 1.1rem;
  }
  .menu-card .price {
    font-weight: 700;
    color: #28a745;
    margin-bottom: 15px;
    font-size: 1.1rem;
  }
  .menu-card .btn-group {
    display: flex;
    justify-content: center;
    gap: 15px;
  }
  .menu-card .quantity {
    font-size: 1.1rem;
    font-weight: 600;
    width: 30px;
    text-align: center;
    line-height: 32px;
  }

  /* Cart Sidebar */
  .cart-sidebar {
    background: white;
    max-height: 80vh;
    overflow-y: auto;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgb(0 0 0 / 0.1);
  }
  #cartItems .list-group-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  #cartItems .list-group-item .item-qty {
    font-weight: 600;
    margin-right: 10px;
  }
  #submitOrderBtn:disabled {
    background-color: #94d3a2;
    cursor: not-allowed;
  }

  /* Responsive tweaks */
  @media(max-width: 768px){
    .menu-card {
      width: 180px;
      margin-right: 12px;
    }
  }
</style>
</head>
<body>
  <div class="container-fluid py-3">
    <header class="mb-4 d-flex justify-content-between align-items-center">
      <h1 class="text-primary">GustoBite</h1>
      <nav>
        <ul class="nav nav-pills" id="categoryTabs">
          <li class="nav-item"><button class="nav-link active" data-category="breakfast">Breakfast</button></li>
          <li class="nav-item"><button class="nav-link" data-category="lunch">Lunch</button></li>
          <li class="nav-item"><button class="nav-link" data-category="dinner">Dinner</button></li>
          <li class="nav-item"><button class="nav-link" data-category="drinks">Drinks</button></li>
        </ul>
      </nav>
    </header>

    <div class="row">
      <!-- Slider Menu Section -->
      <div class="col-lg-8 col-md-7">
        <div class="slider-container" id="sliderMenu">
          <!-- Menu items slider injected here -->
        </div>
      </div>

      <!-- Cart Sidebar -->
      <div class="col-lg-4 col-md-5 mt-4 mt-md-0">
        <div class="cart-sidebar sticky-top">
          <h4>Your Bucket ðŸ›’</h4>
          <ul id="cartItems" class="list-group mb-3">
            <li class="list-group-item">Your bucket is empty</li>
          </ul>
          <div class="d-flex justify-content-between mb-3">
            <strong>Total:</strong>
            <strong id="cartTotal">â‚¹0</strong>
          </div>
          <button id="submitOrderBtn" class="btn btn-success w-100" disabled>Place Order</button>
          <div id="orderMsg" class="mt-3 text-success fw-bold" style="display:none;">Order placed successfully!</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const menuData = [
      // Breakfast
      { id: 1, category: 'breakfast', name: 'Vegetable Upma', price: 70 },
      { id: 2, category: 'breakfast', name: 'Masala Dosa', price: 90 },
      // Lunch
      { id: 3, category: 'lunch', name: 'Paneer Butter Masala', price: 150 },
      { id: 4, category: 'lunch', name: 'Veg Biryani', price: 130 },
      // Dinner
      { id: 5, category: 'dinner', name: 'Dal Tadka', price: 110 },
      { id: 6, category: 'dinner', name: 'Veg Korma', price: 160 },
      // Drinks
      { id: 7, category: 'drinks', name: 'Masala Chai', price: 40 },
      { id: 8, category: 'drinks', name: 'Mango Lassi', price: 60 }
    ];

    const sliderMenu = document.getElementById('sliderMenu');
    const cartItemsContainer = document.getElementById('cartItems');
    const cartTotalElem = document.getElementById('cartTotal');
    const submitOrderBtn = document.getElementById('submitOrderBtn');
    const orderMsg = document.getElementById('orderMsg');

    let cart = {};
    let currentCategory = 'breakfast';

    function renderSlider(category) {
      sliderMenu.innerHTML = '';
      const items = menuData.filter(i => i.category === category);
      if(items.length === 0){
        sliderMenu.innerHTML = `<p class="text-muted">No items in this category.</p>`;
        return;
      }
      items.forEach(item => {
        const card = document.createElement('div');
        card.className = 'menu-card';
        card.innerHTML = `
          <h5>${item.name}</h5>
          <div class="price">â‚¹${item.price}</div>
          <div class="btn-group" role="group" aria-label="Quantity controls">
            <button type="button" class="btn btn-outline-danger btn-sm" data-action="remove" data-id="${item.id}">âˆ’</button>
            <span class="quantity" id="qty-${item.id}">${cart[item.id]?.qty || 0}</span>
            <button type="button" class="btn btn-outline-success btn-sm" data-action="add" data-id="${item.id}">+</button>
          </div>
        `;
        sliderMenu.appendChild(card);
      });
    }

    function renderCart() {
      cartItemsContainer.innerHTML = '';

      const cartItems = Object.values(cart);
      if(cartItems.length === 0) {
        cartItemsContainer.innerHTML = '<li class="list-group-item">Your bucket is empty</li>';
        cartTotalElem.textContent = 'â‚¹0';
        submitOrderBtn.disabled = true;
        return;
      }

      let total = 0;
      cartItems.forEach(item => {
        total += item.price * item.qty;

        const li = document.createElement('li');
        li.className = 'list-group-item';
        li.innerHTML = `
          <span class="item-qty">${item.qty}Ã—</span> ${item.name} 
          <span>â‚¹${item.price * item.qty}</span>
        `;
        cartItemsContainer.appendChild(li);
      });

      cartTotalElem.textContent = `â‚¹${total}`;
      submitOrderBtn.disabled = false;
    }

    // Event delegation for add/remove buttons in slider
    sliderMenu.addEventListener('click', e => {
      const btn = e.target.closest('button');
      if(!btn) return;

      const action = btn.getAttribute('data-action');
      const id = parseInt(btn.getAttribute('data-id'));
      const menuItem = menuData.find(item => item.id === id);
      if(!menuItem) return;

      if(action === 'add') {
        if(cart[id]) {
          cart[id].qty += 1;
        } else {
          cart[id] = {...menuItem, qty:1};
        }
      } else if(action === 'remove') {
        if(cart[id]) {
          cart[id].qty -= 1;
          if(cart[id].qty <= 0) {
            delete cart[id];
          }
        }
      }
      document.getElementById(`qty-${id}`).textContent = cart[id]?.qty || 0;
      renderCart();
    });

    // Category tab click
    document.getElementById('categoryTabs').addEventListener('click', e => {
      const btn = e.target.closest('button');
      if(!btn) return;

      document.querySelectorAll('#categoryTabs .nav-link').forEach(n => n.classList.remove('active'));
      btn.classList.add('active');

      currentCategory = btn.getAttribute('data-category');
      renderSlider(currentCategory);
    });

    // Submit order (UI only)
    submitOrderBtn.addEventListener('click', () => {
      orderMsg.style.display = 'block';
      setTimeout(() => {
        orderMsg.style.display = 'none';
        cart = {};
        renderSlider(currentCategory);
        renderCart();
      }, 3000);
    });

    // Initial render
    renderSlider(currentCategory);
    renderCart();
  </script>
</body>
</html>
